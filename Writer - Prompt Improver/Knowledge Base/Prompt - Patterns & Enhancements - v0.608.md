# Prompt - Patterns & Enhancements - v0.608

Comprehensive prompt engineering framework with RCAF/CRAFT patterns, CLEAR evaluation, advanced reasoning techniques, and performance-driven optimization strategies with automatic ultrathink processing and support for Standard, JSON, and YAML formats.

**CRITICAL:** All patterns benefit from automatic 10-round ultrathink processing. All enhancements must be delivered as artifacts with minimal header only.

## üìã Table of Contents

1. [üöÄ QUICK TEMPLATES](#-quick-templates)
2. [üìù CORE PATTERNS - RCAF & CRAFT](#-core-patterns---rcaf--craft)
3. [‚úÖ CLEAR EVALUATION SYSTEM](#-clear-evaluation-system)
4. [üß† ADVANCED REASONING TECHNIQUES](#-advanced-reasoning-techniques)
5. [üìä FORMAT EFFICIENCY](#-format-efficiency)
6. [üéØ ATLAS-ENHANCED TECHNIQUES](#-atlas-enhanced-techniques)
7. [‚öôÔ∏è REACT PATTERN - REASONING & ACTION](#-react-pattern---reasoning--action)
8. [üå≥ TREE OF THOUGHTS (TOT) PATTERN](#-tree-of-thoughts-tot-pattern)
9. [üìà EVALUATION METRICS & OPTIMIZATION](#-evaluation-metrics--optimization)
10. [üö® ERROR RECOVERY & REPAIR](#-error-recovery--repair)
11. [üí° META-PROMPTING TECHNIQUES](#-meta-prompting-techniques)
12. [üõ°Ô∏è CONSTITUTIONAL AI PATTERNS](#-constitutional-ai-patterns)
13. [üéì KEY PRINCIPLES & PHILOSOPHY](#-key-principles--philosophy)

---

<a id="-quick-templates"></a>

## 1. üöÄ QUICK TEMPLATES

### Automatic Processing Foundation

**All templates benefit from automatic ultrathink optimization:**
```python
def apply_template_with_optimization():
    """Every template gets automatic enhancement"""
    
    processing = {
        'depth': 10,  # Standard ultrathink
        'optimization': 'automatic',
        'quality_target': 'CLEAR 40+/50'
    }
    
    return enhanced_template
```

### Enhanced Template Matrix - RCAF Optimized

| Type | Purpose | Framework | CLEAR Target | Performance | Processing |
|------|---------|-----------|--------------|-------------|------------|
| **Analysis** | Analyze topic focusing on aspects | RCAF | Expression: 9/10 | Speed: 100ms | Auto-optimized |
| **Creation** | Create deliverable for audience | RCAF | Arrangement: 9/10 | Speed: 200ms | Ultrathink applied |
| **Solution** | Solve problem with approach | RCAF | Correctness: 9/10 | Speed: 150ms | Deep analysis |
| **Research** | Research topic finding insights | RCAF/CRAFT | Coverage: 9/10 | Speed: 300ms | Auto-enhanced |
| **Complex** | Multi-step workflow execution | CRAFT | All: 40+/50 | Speed: 400ms | Full optimization |

### RCAF Quick Template
```
Role: [One sentence expertise]
Context: [Essential background only]
Action: [Specific, measurable task]
Format: [Clear output requirements]
```

**Delivered as artifact:**
```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 43/50

Role: [One sentence expertise]
Context: [Essential background only]
Action: [Specific, measurable task]
Format: [Clear output requirements]
```

### Token Efficiency Reference

**For complete format specifications:**
- ‚Üí **Prompt - JSON Format Guide.md**
- ‚Üí **Prompt - YAML Format Guide.md**

| Framework | Elements | Token Overhead | Clarity Score | Processing |
|-----------|----------|----------------|---------------|------------|
| **RCAF** | 4 | Baseline | 9/10 | Ultrathink |
| **CRAFT** | 5 | +10-15% | 7/10 | Ultrathink |

### Format Token Impact

| Format | Overhead | Best For | Enhancement |
|--------|----------|----------|-------------|
| **Standard** | Baseline | Natural language | Auto-optimized |
| **JSON** | +5-10% | APIs | Structure enhanced |
| **YAML** | +3-7% | Configuration | Template ready |

---

<a id="-core-patterns---rcaf--craft"></a>

## 2. üìù CORE PATTERNS - RCAF & CRAFT

### Pattern Application with Automatic Enhancement

```python
class PatternApplication:
    """Automatic enhancement for all patterns"""
    
    def apply_pattern(self, pattern_type, content):
        # Automatic ultrathink processing
        self.processing_depth = 10
        self.optimization = 'automatic'
        
        # Verify prerequisites
        checks = {
            'artifact_prepared': self.artifact_format == 'text/markdown',
            'clear_baseline': self.baseline_clear_score is not None,
            'processing_active': self.ultrathink_enabled
        }
        
        if not all(checks.values()):
            self.prepare_prerequisites()
            
        return self.enhance_with_pattern(pattern_type, content)
```

### RCAF Pattern (Primary - Recommended)

**Role, Context, Action, Format - The Essential Four**

**Standard RCAF Template:**
```
Role: [Specific expertise in one sentence]
Context: [Essential information only - 1-2 sentences max]
Action: [Clear, specific, measurable task]
Format: [Output structure and requirements]
```

**Artifact Format:**
```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 43/50

Role: [Specific expertise in one sentence]
Context: [Essential information only - 1-2 sentences max]
Action: [Clear, specific, measurable task]
Format: [Output structure and requirements]
```

**YAML RCAF Artifact:**
```
Mode: $yaml | Complexity: Medium | Framework: RCAF | CLEAR: 42/50

role: Specific expertise in one sentence
context: Essential information only - 1-2 sentences max
action: Clear, specific, measurable task
format: Output structure and requirements
```

**JSON RCAF Artifact:**
```
Mode: $json | Complexity: Medium | Framework: RCAF | CLEAR: 41/50

{
  "role": "Specific expertise in one sentence",
  "context": "Essential information only - 1-2 sentences max",
  "action": "Clear, specific, measurable task",
  "format": "Output structure and requirements"
}
```

**Real Example - Meeting Summary Artifact:**

```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 44/50

Role: You are the Chief of Staff with executive communication expertise.
Context: Using the Q3 planning meeting transcript from the product team.
Action: Extract all decisions, risks, action items with owners, and key discussion points.
Format: Return exactly 7 bullets for executives - must include at least one risk and one decision. Use neutral, concise tone with no jargon.
```

### CRAFT Pattern (Alternative - When Comprehensive Needed)

**Context, Role, Action, Format, Target - The Full Five**

**Automatic Complexity Check:**
```python
if complexity < 7:
    print("üìù RCAF might be clearer. Use simplified approach? (recommended)")
    if user_agrees:
        return use_rcaf_with_optimization()
```

**Standard CRAFT Template:**
```
Context: [Full background, assumptions, constraints]
Role: [Detailed expertise and perspective]
Action: [Comprehensive task breakdown]
Format: [Detailed output structure]
Target: [Success metrics and outcomes]
```

**Artifact Format:**
```
Mode: $refine | Complexity: High | Framework: CRAFT | CLEAR: 41/50

Context: [Full background, assumptions, constraints]
Role: [Detailed expertise and perspective]
Action: [Comprehensive task breakdown]
Format: [Detailed output structure]
Target: [Success metrics and outcomes]
```

### Pattern Comparison with CLEAR Scores

| Pattern | Avg CLEAR | Correctness | Logic | Expression | Arrangement | Reuse | Best Format | Processing |
|---------|-----------|-------------|-------|------------|-------------|-------|-------------|------------|
| **RCAF** | 43/50 | 8.5 | 8.0 | 9.5 | 9.0 | 8.0 | Standard/YAML | Ultrathink |
| **CRAFT** | 41/50 | 9.0 | 9.0 | 7.5 | 8.0 | 7.5 | Standard | Ultrathink |

### Chain-of-Thought Enhanced RCAF

**Standard RCAF + CoT Artifact:**
```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 44/50

Role: As [expert], approach this step-by-step.
Context: [Situation requiring reasoning]
Action: 
1. First, identify [primary elements]
2. Then, analyze [relationships]
3. Consider [implications]
4. Finally, synthesize [conclusions]
Show reasoning at each step.
Format: [Structured reasoning output]
```

---

<a id="-clear-evaluation-system"></a>

## 3. ‚úÖ CLEAR EVALUATION SYSTEM

### CLEAR Framework Overview

**Correctness, Logic/Coverage, Expression, Arrangement, Reuse**

Each dimension scored 1-10, total 50 points possible.

**Automatic scoring before and after enhancement, delivered in artifact header.**

### Format Impact on CLEAR Scores

| Format | Correctness | Logic | Expression | Arrangement | Reuse | Average | Processing |
|--------|-------------|-------|------------|-------------|-------|---------|------------|
| **Standard** | 0 | 0 | +1 | 0 | 0 | 43/50 | Optimized |
| **JSON** | +1 | +1 | -1 | +1 | +1 | 41/50 | Structured |
| **YAML** | 0 | +1 | 0 | +1 | +1 | 42/50 | Template-ready |

### CLEAR Application Example

**High-Scoring RCAF Artifact (45/50):**

```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 45/50

Role: Senior data analyst specializing in customer behavior.
Context: Q4 2024 sales data from e-commerce platform, 100K transactions.
Action: Identify top 3 revenue drivers and create predictive model for Q1 2025.
Format: Executive dashboard with bullet insights and visual charts.
```

---

<a id="-advanced-reasoning-techniques"></a>

## 4. üß† ADVANCED REASONING TECHNIQUES

### Reasoning Pattern with Automatic Enhancement

```python
def apply_reasoning_pattern(pattern_type, content):
    """Apply reasoning patterns with automatic optimization"""
    
    # All patterns get ultrathink
    processing = {
        'cot': {'depth': 10, 'focus': 'step_by_step'},
        'few_shot': {'depth': 10, 'focus': 'pattern_learning'},
        'react': {'depth': 10, 'focus': 'iterative'},
        'tot': {'depth': 10, 'focus': 'branching'}
    }
    
    pattern_config = processing.get(pattern_type)
    
    # Apply automatic enhancement
    return enhance_with_reasoning(content, pattern_config)
```

### Chain-of-Thought (CoT) with RCAF

**Standard RCAF-CoT Artifact:**
```
Mode: $improve | Complexity: High | Framework: RCAF | CLEAR: 44/50

Role: Expert problem solver using systematic reasoning.
Context: [Complex problem requiring step-by-step thinking]
Action: Solve by thinking through each step explicitly:
- Step 1: [Decompose problem]
- Step 2: [Analyze components]
- Step 3: [Build solution]
- Step 4: [Verify result]
Format: Show all reasoning with final answer highlighted.
```

### Few-Shot Learning with RCAF

**Standard RCAF Few-Shot Artifact:**
```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 42/50

Role: Pattern recognition expert.
Context: Learn from these examples to handle new case.
Action: Apply the pattern from examples to new input.
Format:
Example 1: Input: [x] ‚Üí Output: [y]
Example 2: Input: [x] ‚Üí Output: [y]
Now apply to: Input: [new] ‚Üí Output: [generate]
```

---

<a id="-format-efficiency"></a>

## 5. üìä FORMAT EFFICIENCY

### Format Selection with Framework Pairing

| Framework | Best Format | Token Impact | CLEAR Impact | Use Case | Processing |
|-----------|------------|--------------|--------------|----------|------------|
| **RCAF + Standard** | Default choice | Baseline | E:+2, A:+1 | Most prompts | Optimized |
| **RCAF + JSON** | API/structured | +5-10% | C:+1, L:+1 | APIs | Enhanced |
| **RCAF + YAML** | Configuration | +3-7% | A:+1, R:+1 | Templates | Structured |
| **CRAFT + Standard** | Complex natural | +10-15% | L:+2 | Detailed | Deep |
| **CRAFT + JSON** | Complex structured | +15-20% | L:+2, A:+1 | Complex APIs | Full |
| **CRAFT + YAML** | Complex config | +12-17% | L:+1, A:+1 | Complex templates | Complete |

### Format Selection Algorithm with CLEAR

```python
def select_optimal_format(framework, complexity, constraints):
    """
    Select format based on framework and requirements
    Returns format and expected CLEAR score impact
    """
    
    # Automatic optimization ensures quality
    base_optimization = 2  # Ultrathink bonus
    
    if framework == 'RCAF':
        if constraints.get('api_integration'):
            return 'json', {'C': +1 + base_optimization, 'L': +1}
        elif constraints.get('human_editable'):
            return 'yaml', {'A': +1 + base_optimization, 'R': +1}
        else:
            return 'standard', {'E': +2 + base_optimization, 'A': +1}
    
    elif framework == 'CRAFT':
        # Similar logic with optimization bonus
        pass
```

---

<a id="-atlas-enhanced-techniques"></a>

## 6. üéØ ATLAS-ENHANCED TECHNIQUES

### ATLAS-R Pattern with RCAF/CLEAR

**Assessment Phase with Framework Selection:**
```python
def assess_enhancement_need(prompt):
    # Automatic processing active
    processing = {
        'depth': 10,
        'mode': 'ultrathink',
        'optimization': 'automatic'
    }
    
    factors = {
        'clarity': assess_clarity(prompt),
        'complexity': calculate_complexity(prompt),
        'structure_needed': needs_structure(prompt),
        'current_clear_score': evaluate_clear(prompt)
    }
    
    if factors['complexity'] <= 4:
        framework = 'RCAF'
        target_clear = 43
    elif factors['complexity'] in [5, 6]:
        framework = 'user_choice'
        target_clear = 42
    else:
        framework = 'CRAFT_or_simplify'
        target_clear = 40
    
    # Apply automatic enhancement
    return enhance_with_atlas(factors, framework, processing)
```

---

<a id="-react-pattern---reasoning--action"></a>

## 7. ‚öôÔ∏è REACT PATTERN - REASONING & ACTION

### ReAct with RCAF Structure

**Standard RCAF-ReAct Artifact:**
```
Mode: $improve | Complexity: High | Framework: RCAF | CLEAR: 42/50

Role: Problem-solving agent using reasoning and action cycles.
Context: [Complex task requiring iterative approach]
Action: Execute ReAct cycles:

Thought 1: [reasoning about approach]
Action 1: [specific action to take]
Observation 1: [result of action]

Thought 2: [reasoning based on observation]
Action 2: [next action based on reasoning]
Observation 2: [result]

Continue until solution achieved.

Format: Document all thoughts, actions, and observations. Conclude with final answer.
```

**YAML RCAF-ReAct Artifact:**
```
Mode: $yaml | Complexity: High | Framework: RCAF | CLEAR: 42/50

role: Problem-solving agent using reasoning and action cycles
context: Complex task requiring iterative approach
action:
  method: react_cycles
  cycles:
    - cycle: 1
      thought: reasoning about approach
      action: specific action to take
      observation: result of action
    - cycle: 2
      thought: reasoning based on observation
      action: next action based on reasoning
      observation: result
  termination: solution achieved
format:
  documentation: all cycles
  conclusion: final answer
```

---

<a id="-tree-of-thoughts-tot-pattern"></a>

## 8. üå≥ TREE OF THOUGHTS (TOT) PATTERN

### ToT with RCAF Framework

**Standard RCAF-ToT Artifact:**
```
Mode: $improve | Complexity: High | Framework: RCAF | CLEAR: 43/50

Role: Strategic decision analyst exploring solution paths.
Context: [Complex decision with multiple approaches]
Action: Explore 3 solution branches:

Branch 1: [Approach A]
- Method: [description]
- Pros: [list]
- Cons: [list]
- Score: [1-10]

Branch 2: [Approach B]
- Method: [description]
- Pros: [list]
- Cons: [list]
- Score: [1-10]

Branch 3: [Approach C]
- Method: [description]
- Pros: [list]
- Cons: [list]
- Score: [1-10]

Format: Recommendation with rationale based on highest score.
```

---

<a id="-evaluation-metrics--optimization"></a>

## 9. üìà EVALUATION METRICS & OPTIMIZATION

### Comprehensive Evaluation Framework with CLEAR

| Metric Category | Target | Measurement | Optimization | CLEAR Dimension | Processing |
|-----------------|--------|-------------|--------------|-----------------|------------|
| **Processing Complete** | 100% | Application rate | Automatic | All | Ultrathink |
| **Artifact Delivery** | 100% | Success rate | Mandatory | All | Enhanced |
| **Accuracy** | >95% | Task completion | RCAF precision | Correctness | Optimized |
| **Coverage** | >90% | Requirements met | Framework choice | Logic/Coverage | Deep |
| **Clarity** | >90% | Ambiguity reduction | RCAF emphasis | Expression | Clear |
| **Structure** | >85% | Organization quality | Pattern selection | Arrangement | Organized |
| **Efficiency** | <200ms | Processing time | Format selection | All dimensions | Fast |
| **Reusability** | >80% | Template adaptation | YAML templates | Reuse | Flexible |

### Performance Optimization Strategy with CLEAR

```python
def optimize_prompt_performance(prompt, clear_scores, format_pref=None):
    """Optimize based on CLEAR weaknesses with automatic enhancement"""
    
    # Automatic ultrathink ensures quality
    processing = {
        'depth': 10,
        'mode': 'automatic',
        'optimization': 'applied'
    }
    
    optimizations = {
        'correctness': add_verification_steps,
        'coverage': expand_requirements,
        'expression': simplify_to_rcaf,
        'arrangement': restructure_sections,
        'reuse': parameterize_template
    }
    
    # Target lowest CLEAR dimension
    weakest = min(clear_scores, key=clear_scores.get)
    if clear_scores[weakest] < 7:
        prompt = optimizations[weakest](prompt)
    
    # Apply format optimization
    if format_pref == 'yaml' and clear_scores['reuse'] < 8:
        prompt = convert_to_yaml_template(prompt)
    
    # Deliver as enhanced artifact with minimal header
    return create_optimized_artifact(prompt, processing)
```

### Session Pattern Tracking

```python
class SessionPatternTracker:
    """Track patterns within current session only"""
    
    def __init__(self):
        self.framework_choices = []
        self.format_choices = []
        self.clear_scores = []
        self.complexity_levels = []
        
    def update(self, interaction):
        """Learn from current session"""
        self.framework_choices.append(interaction.framework)
        self.format_choices.append(interaction.format)
        self.clear_scores.append(interaction.clear_score)
        self.complexity_levels.append(interaction.complexity)
        
    def get_suggestions(self):
        """Provide session-based suggestions"""
        if len(self.framework_choices) >= 3:
            most_common_framework = max(set(self.framework_choices), 
                                       key=self.framework_choices.count)
            return f"You've preferred {most_common_framework} in this session"
        return None
```

### Pattern Usage Tracking with CLEAR

| Pattern | Usage Rate | Success Rate | Avg CLEAR | Best Complexity | User Satisfaction | Preferred Format | Processing |
|---------|------------|--------------|-----------|-----------------|-------------------|------------------|------------|
| **RCAF** | 45% | 92% | 43/50 | 1-4 | 91% | Standard/YAML | Ultrathink |
| **RCAF+CoT** | 20% | 90% | 44/50 | 4-6 | 88% | Standard | Deep reasoning |
| **CRAFT** | 15% | 88% | 41/50 | 7-10 | 85% | Standard | Comprehensive |
| **RCAF+ReAct** | 10% | 87% | 42/50 | 5-7 | 86% | YAML | Iterative |
| **RCAF+ToT** | 10% | 91% | 43/50 | 6-8 | 89% | YAML | Branching |

**NOTE:** All patterns benefit from automatic 10-round ultrathink processing.

---

<a id="-error-recovery--repair"></a>

## 10. üö® ERROR RECOVERY & REPAIR

### Pattern-Specific Error Recovery with CLEAR

| Error Type | Recognition | Recovery Pattern | CLEAR Fix | Format Recommendation | Prevention | Processing |
|------------|-------------|------------------|-----------|----------------------|------------|------------|
| **No Artifact** | Chat delivery | Force artifact | All | Any | Retry creation | Automatic |
| **Ambiguity** | Multiple interpretations | Switch to RCAF | +3 Expression | Standard | Clear definitions | Enhanced |
| **Incomplete** | Missing requirements | Add CRAFT elements | +2 Coverage | YAML for structure | Requirement checklist | Deep |
| **Over-complex** | Too many elements | Simplify to RCAF | +2 Expression | Standard | Complexity limit | Streamlined |
| **Logic Error** | Incorrect conclusion | Apply RCAF+CoT | +2 Correctness | Standard | Step validation | Reasoning |
| **Poor Structure** | Confusing organization | Restructure with RCAF | +3 Arrangement | YAML | Template use | Organized |

### Recovery Decision Framework with CLEAR

```python
def select_recovery_pattern(error_type, current_clear_scores):
    """Select recovery based on CLEAR scores with automatic fix"""
    
    # Automatic processing handles recovery
    processing = {'depth': 10, 'mode': 'recovery'}
    
    # Recovery matrix with automatic enhancement
    recovery_matrix = {
        'ambiguity': ('rcaf', 'expression', 'standard'),
        'incomplete': ('craft', 'coverage', 'yaml'),
        'over_complex': ('rcaf', 'expression', 'standard'),
        'logic_error': ('rcaf_cot', 'correctness', 'standard'),
        'poor_structure': ('rcaf', 'arrangement', 'yaml'),
        'format_overhead': ('rcaf', 'expression', 'standard')
    }
    
    pattern, target_dimension, format_rec = recovery_matrix.get(
        error_type, 
        ('rcaf', 'expression', 'standard')
    )
    
    # Apply automatic enhancement
    return apply_recovery_with_optimization(pattern, target_dimension, format_rec)
```

---

<a id="-meta-prompting-techniques"></a>

## 11. üí° META-PROMPTING TECHNIQUES

### Meta-Prompt Generator with RCAF/CLEAR

**Standard Meta-Prompt Artifact:**
```
Mode: $refine | Complexity: High | Framework: RCAF | CLEAR: 44/50

Role: Expert prompt engineer optimizing for clarity and effectiveness.
Context: Creating optimal prompt for: [task description]
Action: Generate RCAF-structured prompt considering:
- Appropriate reasoning pattern (CoT, ReAct, ToT)
- Optimal format (Standard, JSON, YAML)
- Target CLEAR score of 43+/50
- Minimum complexity needed
- Automatic optimization applied
- Mandatory artifact delivery
Format: RCAF prompt with explanation of design choices and CLEAR score projection.
```

---

<a id="-constitutional-ai-patterns"></a>

## 12. üõ°Ô∏è CONSTITUTIONAL AI PATTERNS

### Safety Integration with RCAF

**Standard Safety Pattern Artifact:**
```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 42/50

Role: Responsible AI assistant with safety priorities.
Context: Request: [user request] | Safety considerations: [list]
Action: Process request while:
- Ensuring no harmful content
- Maintaining factual accuracy
- Protecting privacy
- Preventing bias
- Providing safe alternatives if needed
Format: Safe response with explanation if request modified.
```

---

<a id="-key-principles--philosophy"></a>

## 13. üéì KEY PRINCIPLES & PHILOSOPHY

### Framework Selection Hierarchy

```
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ      RCAF       ‚îÇ (Default: 1-4 complexity, 70% of cases)
        ‚îÇ  [Ultrathink]   ‚îÇ [Automatic optimization]
        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
        ‚îÇ   RCAF + CoT    ‚îÇ (Reasoning: 4-6 complexity)
        ‚îÇ  [Deep reason]  ‚îÇ [Step-by-step enhancement]
        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
        ‚îÇ  RCAF + ReAct   ‚îÇ (Iterative: 5-7 complexity)
        ‚îÇ   [Iterative]   ‚îÇ [Cycle optimization]
        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
        ‚îÇ   RCAF + ToT    ‚îÇ (Decisions: 6-8 complexity)
        ‚îÇ   [Branching]   ‚îÇ [Path analysis]
        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
        ‚îÇ     CRAFT       ‚îÇ (Comprehensive: 7+ complexity, 15% of cases)
        ‚îÇ     [Full]      ‚îÇ [Complete coverage]
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Format Selection Philosophy

```
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ    Standard     ‚îÇ (Default: 60% of cases, maximum clarity)
        ‚îÇ   [Optimized]   ‚îÇ
        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
        ‚îÇ      YAML       ‚îÇ (Config/Templates: 20%, human-editable)
        ‚îÇ   [Structured]  ‚îÇ
        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
        ‚îÇ      JSON       ‚îÇ (APIs: 20%, machine-parseable)
        ‚îÇ   [Formatted]   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Core Guidelines with CLEAR

| Principle | Description | Priority | CLEAR Focus | Processing |
|-----------|-------------|----------|-------------|------------|
| **Automatic Excellence** | Ultrathink handles optimization | 1.0 | All | Always |
| **Artifact Always** | Never deliver in chat | 1.0 | All | Mandatory |
| **Minimal Header Only** | Single line + content | 1.0 | All | Standard |
| **Clarity First** | RCAF's 4 elements beat CRAFT's 5 | 0.9 | Expression | Enhanced |
| **Complete Coverage** | Include all requirements | 0.9 | Logic/Coverage | Deep |
| **Correct Information** | Accuracy matters most | 0.9 | Correctness | Verified |
| **Structure Matters** | Good organization aids understanding | 0.8 | Arrangement | Organized |
| **Think Reuse** | Build adaptable patterns | 0.7 | Reuse | Flexible |
| **Simplify Always** | Minimum complexity for maximum effect | 0.8 | Expression | Streamlined |
| **Measure Everything** | CLEAR scores drive improvement | 0.9 | All dimensions | Tracked |

### The Ultimate Pattern Question

> "Does this pattern improve CLEAR scores without adding unnecessary complexity?"

**Decision Framework:**
```python
def should_use_pattern(task, pattern, format):
    # Automatic processing ensures quality
    processing = {'depth': 10, 'mode': 'ultrathink'}
    
    current_clear = evaluate_without_pattern(task)
    projected_clear = evaluate_with_pattern(task, pattern)
    format_overhead = calculate_format_tokens(format)
    
    clear_improvement = projected_clear - current_clear
    
    # Pattern worth it if CLEAR improves by 5+ points
    # Automatic optimization handles the rest
    return (clear_improvement >= 5 or any(
        dim_improvement >= 2 
        for dim_improvement in dimension_improvements
    )) and format_overhead < 0.15
```

### Success Metrics Summary

**Excellent Prompt Engineering Achieves:**
- ‚úÖ 100% automatic processing application
- ‚úÖ 100% artifact delivery compliance
- ‚úÖ 100% minimal header format (no extra sections)
- ‚úÖ RCAF used 70%+ of the time
- ‚úÖ Average CLEAR score > 43/50
- ‚úÖ Expression score > 9/10
- ‚úÖ Correctness > 9/10
- ‚úÖ Right pattern for the task
- ‚úÖ Optimal format selection
- ‚úÖ Minimal complexity overhead
- ‚úÖ 95%+ task completion accuracy
- ‚úÖ Format overhead < 10% average

### RCAF Transformation Examples

**Before (Vague):**
```
"Analyze customer data and tell me what's important"
CLEAR: 20/50
```

**After - Artifact:**
```
Mode: $improve | Complexity: Medium | Framework: RCAF | CLEAR: 45/50

Role: Customer analytics specialist with churn prediction expertise.
Context: 12 months of subscription data for 50K SaaS customers.
Action: Identify top 3 churn indicators and segment at-risk customers.
Format: Executive summary with data table and actionable recommendations.
```

**Improvement:** +25 points (125% improvement) with automatic enhancement

**Format Guides:** For complete format specifications:
- ‚Üí **Prompt - JSON Format Guide.md**
- ‚Üí **Prompt - YAML Format Guide.md**

---

*Patterns & Enhancements: Comprehensive framework with RCAF priority, CLEAR evaluation, automatic ultrathink, session-based learning, and ultra-minimal artifact delivery. Every pattern optimized, every enhancement measured, every artifact delivered with single-line header only.*
