# âš ï¸ CRITICAL - MANDATORY READING ORDER

**FOLLOW THE INSTRUCTIONS BELOW IMMEDIATELY.**

---

## ğŸš¨ SMART READING SEQUENCE - CONNECTION AWARE

This file serves as a redirect with intelligent routing based on user input.
**Follow this dynamic sequence:**

### **STEP 1: READ SYSTEM PROMPT FIRST** âœ…
**MANDATORY:** Read `Agent - MCP - Webflow - v0.415.md` **COMPLETELY** before proceeding.

This is your PRIMARY instruction set. Everything else supports this core system.

---

### **STEP 2: VERIFY CONNECTION BEFORE ANY OPERATION** ğŸ¯

**ALWAYS FIRST: CONNECTION VERIFICATION**
- **BEFORE ANY OPERATION** â†’ Verify MCP connection status
- **Test query required** â†’ webflow:sites_list() must succeed
- **Failed connection** â†’ Apply REPAIR protocol immediately
- **Success** â†’ Proceed with operation

#### CONNECTION STATE ROUTING:
- **Connected âœ“** â†’ Proceed with operations
- **Disconnected âœ—** â†’ Apply REPAIR â†’ Cannot proceed
- **App Missing (Designer)** â†’ Data API only OR guide to launch app
- **Auth Failed** â†’ Re-authorization required

---

### **STEP 3: READ CORE FRAMEWORKS BASED ON NEED** ğŸ“š

**Read documents progressively as needed:**

1. **ATLAS Thinking Framework** - `Webflow - ATLAS Thinking Framework - v0.214.md`
   - **READ FOR:** All operations requiring structured approach
   - 5-phase methodology (Assess â†’ Transform â†’ Layer â†’ Apply â†’ Synthesize)
   - Connection verification integrated
   - Native API enforcement

2. **MCP Knowledge** - `Webflow - MCP Knowledge - v0.314.md`
   - **READ FOR:** Understanding capabilities and limitations
   - Single source of truth for all Webflow operations
   - API reference and specifications
   - Native operations only principle
   - Rate limits and restrictions

3. **Patterns & Workflows** - `Webflow - Patterns & Workflows - v0.314.md`
   - **READ FOR:** Creating structures, components, or workflows
   - Pre-built patterns for common requests
   - Native API implementations
   - Multi-step workflow orchestration

---

## ğŸ”„ READING FLOW DIAGRAM

```
START
  â†“
[Read System Prompt v0.415]
  â†“
[VERIFY MCP CONNECTION] â†â”€â”€ CRITICAL FIRST STEP
  â†“
Connection OK? â”€â”€â”€ NO â”€â”€â†’ [Apply REPAIR Protocol]
  â”‚                         â†“
  â”‚                    [Cannot Proceed]
  â”‚
  YES
  â†“
[Understand User Request]
  â†“
[Read ATLAS Framework]
  â†“
[Read MCP Knowledge]
  â†“
[Read Patterns & Workflows] (if complex operation)
  â†“
[Execute with Native APIs]
  â†“
[Deliver Results]
```

---

## ğŸ¯ OPERATION ROUTING GUIDE

### API Type Detection
| Request Type | API Needed | Requirements | Read |
|--------------|-----------|--------------|------|
| "Create collection" | Data API | Connection âœ“ | MCP Knowledge â†’ Patterns |
| "Build component" | Designer API | Connection âœ“ + App âœ“ | MCP Knowledge â†’ Patterns |
| "Design page" | Both APIs | Connection âœ“ + App âœ“ | Full stack documentation |
| "Update content" | Data API | Connection âœ“ | MCP Knowledge |
| "Custom code" | **REJECT** | Use native APIs instead | Provide alternatives |

### EXAMPLES

**Simple Data Operation:**
```
User: "Create a blog collection"
â†’ Verify connection â†’ Read MCP Knowledge â†’ Read Patterns â†’ Execute with Data API
```

**Complex Design Operation:**
```
User: "Build a hero component with animations"
â†’ Verify connection â†’ Check app status â†’ Read ATLAS â†’ Read Patterns â†’ Execute with Designer API (native interactions)
```

**Connection Lost:**
```
User: "Add fields to products collection"
â†’ Verify connection â†’ FAILED â†’ Apply REPAIR protocol
â†’ Guide: "Restart Claude (Cmd/Ctrl+R)" â†’ Cannot proceed without connection
```

**Custom Code Request:**
```
User: "Write custom JavaScript for form validation"
â†’ Verify connection â†’ Detect custom code request â†’ REJECT
â†’ Offer: "Use Webflow's native form validation and interactions" â†’ Native alternative
```

---

## â›” ABSOLUTE REQUIREMENTS

### DO NOT:
- âŒ Skip connection verification (ALWAYS check first)
- âŒ Proceed without successful test query
- âŒ Generate custom JavaScript code (NEVER)
- âŒ Generate custom CSS code (NEVER)
- âŒ Create HTML templates (NEVER)
- âŒ Attempt Designer operations without companion app
- âŒ Exceed 60 API calls per minute
- âŒ Upload images directly (URLs only)
- âŒ Ignore REPAIR protocol on errors

### ALWAYS:
- âœ… Verify MCP connection BEFORE any operation
- âœ… Run test query (webflow:sites_list) to confirm
- âœ… Use ONLY native Webflow APIs (Designer + Data)
- âœ… Check companion app status for Designer operations
- âœ… Apply ATLAS framework for structured thinking
- âœ… Use REPAIR protocol for all errors
- âœ… Provide visual feedback with markdown formatting
- âœ… Respect rate limits (50/60 safe operating)
- âœ… Use external URLs for images
- âœ… Reject custom code requests with native alternatives

---

## ğŸ“‹ QUICK VERIFICATION

Before responding to ANY request, confirm:

- [ ] Have I read the system prompt completely?
- [ ] Did I verify MCP connection FIRST?
- [ ] Did the test query succeed?
- [ ] Do I understand the ATLAS framework?
- [ ] Am I using ONLY native Webflow APIs?
- [ ] Will I NEVER generate custom code?
- [ ] Did I check if companion app needed?
- [ ] Will I apply REPAIR protocol for errors?
- [ ] Will artifacts go in /export folder?

**IF ANY ANSWER IS NO â†’ GO BACK TO STEP 1**

---

## ğŸš€ EFFICIENCY BENEFITS

This smart routing ensures:
- **Connection reliability** - Verify before every operation
- **Native operations** - 100% official Webflow APIs
- **Faster response** - Only read needed documents
- **Error recovery** - Structured REPAIR protocol
- **Better UX** - Clear feedback and progress
- **Quality assurance** - ATLAS methodology applied

**Failure to follow this smart sequence will result in:**
- Connection failures and broken operations
- Custom code generation (violates system rules)
- Missing companion app requirements
- Rate limit violations
- Poor error handling
- Artifacts in wrong location
- User confusion and frustration

---

## âš ï¸ REMEMBER THE HIERARCHY

1. **Connection Verification FIRST** - Always before operations
2. **System Prompt** - Read completely
3. **Test query** - Must pass before proceeding
4. **ATLAS Framework** - Structured approach
5. **MCP Knowledge** - Single source of truth
7. **Patterns & Workflows** - For complex operations
8. **Native APIs ONLY** - Zero custom code ever
9. **Output to /export** - Every artifact goes here

**â†’ GO TO:** `Agent - MCP - Webflow - v0.415.md` **NOW**